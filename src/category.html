<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Gulp with TailwindCSS v3</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="./css/style.css" />
</head>

<body class="">
  <main class="flex flex-col justify-between min-h-screen">
    @@include('components/Header.html')
 
    <section class="py-16">
        <div class="container">
            <div class="flex gap-[38px] items-start">
                <div class="flex flex-col bg-white border border-primary py-6 px-5">
                    <h3>Categories</h3>
                    <ul>
                        <li>
                            <i></i>
                            <a href="#">Botulinum</a>
                        </li>
                        <li>
                            <i></i>
                            <a href="#">Mesotherapy</a>
                        </li>
                        <li>
                            <i></i>
                            <a href="#">Dermal Fillers</a>
                        </li>
                        <li>
                            <i></i>
                            <a href="#">Lipolitics</a>
                        </li>
                        <li>
                            <i></i>
                            <a href="#">Placental Extract</a>
                        </li>
                        <li>
                            <i></i>
                            <a href="#">Creams & Serum</a>
                        </li>
                        <li>
                            <i></i>
                            <a href="#">RHEUMATOLOGY</a>
                        </li>
                        <li>
                            <i></i>
                            <a href="#">Ortophedics</a>
                        </li>
                        <li>
                            <i></i>
                            <a href="#">Ginecology</a>
                        </li>
                    </ul>
                    <h3>Brands</h3>
                    <input type="text">
    
                </div>
                <div>
                    <h2>Botulinum</h2>
                    <br>
                    @@include('components/input.html', {
                        'type': 'text',
                        'idInput': 'testId',
                        'placeholder': 'Your Name',
                        'label': 'Name',
                        'styleInput': '',
                        'styleLabel': '',
                        'errorStyle': 'hidden'
                    })
                    <br>
                    <br>
                    <br>
                    @@include('components/textarea.html', {
                        'idTextarea': 'testId',
                        'placeholder': 'Type your message...',
                        'label': 'Message',
                        'styleTextarea': 'max-h-[134px]',
                        'styleLabel': '',
                        'rows': '5'
                    })

                    <br>
                    <br>
                    <br>
                    <br>
                    <div class="flex justify-between items-center mb-8">
                        <p>1-20 of 50 results </p>
                        @@include('components/filter-1.html')
                    </div>
                    <div class="grid grid-cols-3 lg:grid-cols-2 md:grid-cols-1 gap-6">
                        @@include('components/product-card.html', {
                            'style': 'mb-2',
                            'img': 'https://dummyimage.com/420x260',
                            'alt': 'title',
                            'name': 'Product name'
                        })
                        @@include('components/product-card.html', {
                            'style': 'mb-2',
                            'img': 'https://dummyimage.com/420x260',
                            'alt': 'title',
                            'name': 'Product name'
                        })
                        @@include('components/product-card.html', {
                            'style': 'mb-2',
                            'img': 'https://dummyimage.com/420x260',
                            'alt': 'title',
                            'name': 'Product name'
                        })
                        @@include('components/product-card.html', {
                            'style': 'mb-2',
                            'img': 'https://dummyimage.com/420x260',
                            'alt': 'title',
                            'name': 'Product name'
                        })
                        @@include('components/product-card.html', {
                            'style': 'mb-2',
                            'img': 'https://dummyimage.com/420x260',
                            'alt': 'title',
                            'name': 'Product name'
                        })
                        @@include('components/product-card.html', {
                            'style': 'mb-2',
                            'img': 'https://dummyimage.com/420x260',
                            'alt': 'title',
                            'name': 'Product name'
                        })
                        @@include('components/product-card.html', {
                            'style': 'mb-2',
                            'img': 'https://dummyimage.com/420x260',
                            'alt': 'title',
                            'name': 'Product name'
                        })
                        @@include('components/product-card.html', {
                            'style': 'mb-2',
                            'img': 'https://dummyimage.com/420x260',
                            'alt': 'title',
                            'name': 'Product name'
                        })
                    </div>
                </div>
            </div>
        </div>
    </section>

    @@include('components/Footer.html')
  </main>

  <script>
    // JavaScript to toggle the mega menu
    const toggles = document.querySelectorAll('button[data-menu-target]')
    let currentMenu = null
    let currentButton = null

    toggles.forEach(toggle => {
      toggle.addEventListener('click', function (event) {
        event.stopPropagation()
        const targetId = toggle.getAttribute('data-menu-target')
        const targetMenu = document.getElementById(targetId)

        if (currentMenu && currentMenu !== targetMenu) {
          currentMenu.classList.add('hidden')
          currentButton.classList.remove('active')
        }

        if (targetMenu.classList.contains('hidden')) {
          targetMenu.classList.remove('hidden')
          toggle.classList.add('active')
          currentMenu = targetMenu
          currentButton = toggle
        } else {
          targetMenu.classList.add('hidden')
          toggle.classList.remove('active')
          currentMenu = null
          currentButton = null
        }
      })
    })

    // Close the mega menu if clicking outside of it
    document.addEventListener('click', function (event) {
      if (currentMenu && !currentMenu.contains(event.target)) {
        currentMenu.classList.add('hidden')
        if (currentButton) {
          currentButton.classList.remove('active')
        }
        currentMenu = null
        currentButton = null
      }
    })

    // Prevent menu closing when clicking inside the mega menu
    document.querySelectorAll('.mega-menu').forEach(menu => {
      menu.addEventListener('click', function (event) {
        event.stopPropagation()
      })
    })


    document.addEventListener("DOMContentLoaded", function () {
      const searchForm = document.getElementById('searchForm')
      const searchInput = document.getElementById('searchInput')
      const searchResultBlock = document.querySelector('.searchResultBlock')
      const searchResultText = document.getElementById('searchResultText')

      searchForm.addEventListener('submit', function (event) {
        event.preventDefault()

        const query = searchInput.value.trim()

        if (query && query !== '') {
          searchResultBlock.classList.add("show");
          searchResultText.innerHTML = `Вы искали: <span class='text-primary font-semibold'>"${query}"</span>`
        } else {
          searchResultBlock.classList.remove("show");
          searchResultText.innerHTML = ''
        }
      })
    });

  </script>

  <script src="./js/scripts.js"></script>
</body>

</html>